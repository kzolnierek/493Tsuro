
<html>
       <body>
              <script>


              //look into history for refresh probs too

       //just a more detailed subscribe exmaple with presence 
       //presence lets you know who is there (like what players have logged in
       //to the game)
       function addUser(){
                     var username = {name: "michigan"};
                     pubnub.subscribe({
                            channel: gameChannel,
                            message: function(m){
                                   console.log("I'm listening:" + m);
                                   myObject = m;
                            },
                            error: function (e) {
                                   // Handle error here
                                   console.log(JSON.stringify(error));
                            },
                            connect: function(){console.log("connected")},
                            disconnect: function(){console.log("disconnected")},
                            callback: function(message, envelope, channel){
                                   var msg = message.txt;
                                   console.log(msg);
                            },
                            presence: function(m){
                                   //you can have this act differently 
                                   //for different types of presence like join or timeout
                                   consoole.log(m)},
                            state: username

              });
       }

              //for like changing position and adding card??? just an example
              //I wasnt super sure about this but I believe it lets you change the state type without making a publish but am not totally sure 
              function sendStateUpdate(){
              var statechange = 'and now this';
                     pubnub.state({
                            channel: 'game_channel',
                            
                            callback: function(m){console.log("callback" + m)},
                            error: function(m){console.log("error " + m)},
                            state: statechange


                     });
              }
              </script> 
       </body>
</html>                   